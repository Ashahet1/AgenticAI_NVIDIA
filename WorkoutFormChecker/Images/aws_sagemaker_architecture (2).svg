<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 900" style="background: #f8fafc;">
  <defs>
    <!-- Gradients -->
    <linearGradient id="awsOrange" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FF9900;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#FF6600;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="sagemakerGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4A90E2;stop-opacity:0.9" />
      <stop offset="100%" style="stop-color:#7C3AED;stop-opacity:0.9" />
    </linearGradient>
    <linearGradient id="lambdaGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FF9900;stop-opacity:0.9" />
      <stop offset="100%" style="stop-color:#FF6600;stop-opacity:0.9" />
    </linearGradient>
    
    <!-- Drop shadow -->
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="4"/>
      <feOffset dx="0" dy="3" result="offsetblur"/>
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.25"/>
      </feComponentTransfer>
      <feMerge>
        <feMergeNode/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <!-- AWS Service Icons -->
    <symbol id="s3Icon" viewBox="0 0 24 24">
      <rect x="4" y="8" width="16" height="8" fill="#569A31" rx="1"/>
      <rect x="6" y="6" width="12" height="2" fill="#8CC63F"/>
      <rect x="6" y="16" width="12" height="2" fill="#569A31"/>
    </symbol>
    
    <symbol id="lambdaIcon" viewBox="0 0 24 24">
      <path d="M 8 4 L 12 16 L 14 16 L 10 4 Z M 14 8 L 16 14 L 18 14 L 16 8 Z" fill="#FF9900"/>
    </symbol>
    
    <symbol id="apiIcon" viewBox="0 0 24 24">
      <circle cx="12" cy="12" r="8" fill="none" stroke="#FF4F8B" stroke-width="2"/>
      <path d="M 12 4 L 12 20 M 4 12 L 20 12" stroke="#FF4F8B" stroke-width="2"/>
    </symbol>
    
    <symbol id="sagemakerIcon" viewBox="0 0 24 24">
      <rect x="6" y="6" width="12" height="12" fill="none" stroke="#4A90E2" stroke-width="2" rx="2"/>
      <circle cx="12" cy="12" r="3" fill="#7C3AED"/>
    </symbol>
    
    <symbol id="cloudwatchIcon" viewBox="0 0 24 24">
      <rect x="4" y="10" width="3" height="8" fill="#FB8C00" rx="1"/>
      <rect x="9" y="6" width="3" height="12" fill="#FB8C00" rx="1"/>
      <rect x="14" y="8" width="3" height="10" fill="#FB8C00" rx="1"/>
      <rect x="19" y="4" width="3" height="14" fill="#FB8C00" rx="1"/>
    </symbol>
    
    <symbol id="ecrIcon" viewBox="0 0 24 24">
      <rect x="5" y="5" width="14" height="14" fill="none" stroke="#FF9900" stroke-width="2" rx="2"/>
      <rect x="8" y="8" width="8" height="8" fill="#FF9900" opacity="0.3" rx="1"/>
    </symbol>
  </defs>

  <!-- Title -->
  <text x="700" y="50" font-family="Arial, sans-serif" font-size="36" font-weight="bold" fill="#0F172A" text-anchor="middle">
    AWS SageMaker Architecture
  </text>
  <text x="700" y="85" font-family="Arial, sans-serif" font-size="18" fill="#64748B" text-anchor="middle">
    Multi-Agent Agentic AI System Deployment
  </text>

  <!-- AWS Cloud Container -->
  <g filter="url(#shadow)">
    <rect x="50" y="130" width="1300" height="680" rx="16" fill="#FFF7ED" stroke="#FF9900" stroke-width="4"/>
    <text x="700" y="170" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#C2410C" text-anchor="middle">
      ‚òÅÔ∏è AWS CLOUD
    </text>
    
    <!-- AWS Logo -->
    <rect x="100" y="145" width="100" height="40" rx="6" fill="url(#awsOrange)"/>
    <text x="150" y="170" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#FFFFFF" text-anchor="middle">
      AWS
    </text>
  </g>

  <!-- ============================ -->
  <!-- API GATEWAY -->
  <!-- ============================ -->
  <g filter="url(#shadow)">
    <rect x="480" y="220" width="280" height="85" rx="12" fill="#FFE5E5" stroke="#FF4F8B" stroke-width="3"/>
    <use href="#apiIcon" x="500" y="235" width="40" height="40"/>
    <text x="620" y="250" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#BE123C" text-anchor="middle">
      API Gateway
    </text>
    <text x="620" y="275" font-family="Arial, sans-serif" font-size="13" fill="#881337" text-anchor="middle">
      REST API Endpoint
    </text>
    <text x="620" y="293" font-family="Arial, sans-serif" font-size="11" fill="#9F1239" text-anchor="middle">
      /invoke POST endpoint
    </text>
  </g>

  <!-- Arrow -->
  <path d="M 620 305 L 620 360" stroke="#475569" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="670" y="340" font-family="Arial, sans-serif" font-size="12" fill="#059669" font-weight="600">
    1Ô∏è‚É£ Request
  </text>

  <!-- ============================ -->
  <!-- LAMBDA FUNCTION -->
  <!-- ============================ -->
  <g filter="url(#shadow)">
    <rect x="480" y="360" width="280" height="85" rx="12" fill="#FFF4E6" stroke="#FF9900" stroke-width="3"/>
    <use href="#lambdaIcon" x="500" y="375" width="40" height="40"/>
    <text x="620" y="390" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#C2410C" text-anchor="middle">
      AWS Lambda
    </text>
    <text x="620" y="415" font-family="Arial, sans-serif" font-size="13" fill="#9A3412" text-anchor="middle">
      Inference Handler
    </text>
    <text x="620" y="433" font-family="Arial, sans-serif" font-size="11" fill="#92400E" text-anchor="middle">
      Python 3.11 Runtime
    </text>
  </g>

  <!-- Arrow -->
  <path d="M 620 445 L 620 500" stroke="#475569" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="670" y="475" font-family="Arial, sans-serif" font-size="12" fill="#059669" font-weight="600">
    2Ô∏è‚É£ Invoke
  </text>

  <!-- ============================ -->
  <!-- SAGEMAKER CONTAINER -->
  <!-- ============================ -->
  <g filter="url(#shadow)">
    <rect x="100" y="500" width="1000" height="280" rx="14" fill="#EEF2FF" stroke="#4A90E2" stroke-width="4"/>
    <use href="#sagemakerIcon" x="115" y="515" width="45" height="45"/>
    <text x="620" y="545" font-family="Arial, sans-serif" font-size="22" font-weight="bold" fill="#1E3A8A" text-anchor="middle">
      ü§ñ AMAZON SAGEMAKER ENDPOINT
    </text>
  </g>

  <!-- SageMaker Instance -->
  <g filter="url(#shadow)">
    <rect x="150" y="575" width="900" height="85" rx="10" fill="url(#sagemakerGrad)"/>
    <text x="600" y="605" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#FFFFFF" text-anchor="middle">
      SageMaker Real-Time Endpoint Instance
    </text>
    <text x="600" y="630" font-family="Arial, sans-serif" font-size="13" fill="#E0E7FF" text-anchor="middle">
      Instance Type: ml.m5.xlarge | Auto-Scaling Enabled
    </text>
    <text x="600" y="650" font-family="Arial, sans-serif" font-size="12" fill="#C7D2FE" text-anchor="middle">
      Docker Container: Custom Inference Image (Python 3.11 + FastAPI)
    </text>
  </g>

  <!-- Arrow -->
  <path d="M 600 660 L 600 690" stroke="#FFFFFF" stroke-width="3" marker-end="url(#arrowheadWhite)"/>

  <!-- Multi-Agent Container -->
  <g filter="url(#shadow)">
    <rect x="150" y="690" width="900" height="75" rx="10" fill="#DBEAFE" stroke="#2563EB" stroke-width="2"/>
    <text x="600" y="715" font-family="Arial, sans-serif" font-size="15" font-weight="bold" fill="#1E40AF" text-anchor="middle">
      üß† Multi-Agent AI System
    </text>
    <text x="600" y="737" font-family="Arial, sans-serif" font-size="11" fill="#1E3A8A" text-anchor="middle">
      ParsingAgent ‚Üí FormAnalysisAgent ‚Üí InjuryDiagnosisAgent ‚Üí ResearchAgent ‚Üí PrescriptionAgent
    </text>
    <text x="600" y="754" font-family="Arial, sans-serif" font-size="11" fill="#3B82F6" text-anchor="middle">
      + ReasoningController (Reflective Loop with max 3 iterations)
    </text>
  </g>

  <!-- ============================ -->
  <!-- S3 STORAGE -->
  <!-- ============================ -->
  <g filter="url(#shadow)">
    <rect x="1150" y="500" width="200" height="120" rx="12" fill="#E8F5E9" stroke="#569A31" stroke-width="3"/>
    <use href="#s3Icon" x="1165" y="520" width="40" height="40"/>
    <text x="1250" y="545" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#2E7D32" text-anchor="middle">
      Amazon S3
    </text>
    <text x="1250" y="567" font-family="Arial, sans-serif" font-size="12" fill="#1B5E20" text-anchor="middle">
      Model Storage
    </text>
    <text x="1250" y="587" font-family="Arial, sans-serif" font-size="11" fill="#388E3C" text-anchor="middle">
      ‚Ä¢ Model Artifacts
    </text>
    <text x="1250" y="603" font-family="Arial, sans-serif" font-size="11" fill="#388E3C" text-anchor="middle">
      ‚Ä¢ Knowledge Base
    </text>
  </g>

  <!-- Arrow from S3 to SageMaker -->
  <path d="M 1150 560 L 1050 620" stroke="#569A31" stroke-width="2" marker-end="url(#arrowheadGreen)" stroke-dasharray="6,4"/>
  <text x="1110" y="585" font-family="Arial, sans-serif" font-size="11" fill="#2E7D32" font-weight="600">
    Load Models
  </text>

  <!-- ============================ -->
  <!-- ECR (Container Registry) -->
  <!-- ============================ -->
  <g filter="url(#shadow)">
    <rect x="1150" y="650" width="200" height="120" rx="12" fill="#FFF4E6" stroke="#FF9900" stroke-width="3"/>
    <use href="#ecrIcon" x="1165" y="670" width="40" height="40"/>
    <text x="1250" y="695" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#C2410C" text-anchor="middle">
      Amazon ECR
    </text>
    <text x="1250" y="717" font-family="Arial, sans-serif" font-size="12" fill="#9A3412" text-anchor="middle">
      Container Registry
    </text>
    <text x="1250" y="737" font-family="Arial, sans-serif" font-size="11" fill="#92400E" text-anchor="middle">
      ‚Ä¢ Docker Images
    </text>
    <text x="1250" y="753" font-family="Arial, sans-serif" font-size="11" fill="#92400E" text-anchor="middle">
      ‚Ä¢ Inference Container
    </text>
  </g>

  <!-- Arrow from ECR to SageMaker -->
  <path d="M 1150 710 L 1050 660" stroke="#FF9900" stroke-width="2" marker-end="url(#arrowheadOrange)" stroke-dasharray="6,4"/>
  <text x="1110" y="695" font-family="Arial, sans-serif" font-size="11" fill="#C2410C" font-weight="600">
    Pull Image
  </text>

  <!-- ============================ -->
  <!-- CloudWatch Logs &amp; Monitoring -->
  <!-- ============================ -->
  <g filter="url(#shadow)">
    <rect x="100" y="220" width="280" height="120" rx="12" fill="#FFF3E0" stroke="#FB8C00" stroke-width="3"/>
    <use href="#cloudwatchIcon" x="115" y="240" width="40" height="40"/>
    <text x="240" y="265" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#E65100" text-anchor="middle">
      CloudWatch
    </text>
    <text x="240" y="287" font-family="Arial, sans-serif" font-size="12" fill="#BF360C" text-anchor="middle">
      Logs &amp; Monitoring
    </text>
    <text x="240" y="307" font-family="Arial, sans-serif" font-size="11" fill="#D84315" text-anchor="middle">
      ‚Ä¢ Endpoint Metrics
    </text>
    <text x="240" y="323" font-family="Arial, sans-serif" font-size="11" fill="#D84315" text-anchor="middle">
      ‚Ä¢ Agent Performance
    </text>
  </g>

  <!-- Arrow from Lambda to CloudWatch -->
  <path d="M 480 402 L 380 300" stroke="#FB8C00" stroke-width="2" marker-end="url(#arrowheadOrange)" stroke-dasharray="6,4"/>
  <text x="410" y="345" font-family="Arial, sans-serif" font-size="11" fill="#FB8C00" font-weight="600">
    Logs
  </text>

  <!-- Arrow from SageMaker to CloudWatch -->
  <path d="M 150 620 L 380 330" stroke="#FB8C00" stroke-width="2" marker-end="url(#arrowheadOrange)" stroke-dasharray="6,4"/>
  <text x="230" y="470" font-family="Arial, sans-serif" font-size="11" fill="#FB8C00" font-weight="600">
    Metrics
  </text>

  <!-- Return Path -->
  <path d="M 480 402 L 380 402 L 380 262 L 480 262" stroke="#DC2626" stroke-width="3" marker-end="url(#arrowheadRed)" stroke-dasharray="5,3"/>
  <text x="340" y="340" font-family="Arial, sans-serif" font-size="12" fill="#DC2626" font-weight="600">
    3Ô∏è‚É£ Response
  </text>

  <!-- ============================ -->
  <!-- LEGEND -->
  <!-- ============================ -->
  <g filter="url(#shadow)">
    <rect x="100" y="360" width="280" height="120" rx="10" fill="#FFFFFF" stroke="#CBD5E1" stroke-width="2"/>
    <text x="240" y="390" font-family="Arial, sans-serif" font-size="15" font-weight="bold" fill="#0F172A" text-anchor="middle">
      üìå Data Flow Legend
    </text>
    
    <line x1="120" y1="410" x2="150" y2="410" stroke="#475569" stroke-width="3" marker-end="url(#arrowhead)"/>
    <text x="160" y="415" font-family="Arial, sans-serif" font-size="11" fill="#475569">
      Request Flow
    </text>
    
    <line x1="120" y1="435" x2="150" y2="435" stroke="#DC2626" stroke-width="3" marker-end="url(#arrowheadRed)" stroke-dasharray="5,3"/>
    <text x="160" y="440" font-family="Arial, sans-serif" font-size="11" fill="#475569">
      Response Flow
    </text>
    
    <line x1="120" y1="460" x2="150" y2="460" stroke="#569A31" stroke-width="2" marker-end="url(#arrowheadGreen)" stroke-dasharray="6,4"/>
    <text x="160" y="465" font-family="Arial, sans-serif" font-size="11" fill="#475569">
      Resource Access
    </text>
  </g>

  <!-- ============================ -->
  <!-- COST INFO -->
  <!-- ============================ -->
  <g filter="url(#shadow)">
    <rect x="480" y="640" width="280" height="50" rx="8" fill="#FEF3C7" stroke="#F59E0B" stroke-width="2"/>
    <text x="620" y="663" font-family="Arial, sans-serif" font-size="12" font-weight="600" fill="#78350F" text-anchor="middle">
      üí∞ Cost Optimization
    </text>
    <text x="620" y="680" font-family="Arial, sans-serif" font-size="10" fill="#92400E" text-anchor="middle">
      ml.t3.medium (dev) | ml.m5.xlarge (prod)
    </text>
  </g>

  <!-- ============================ -->
  <!-- MARKERS -->
  <!-- ============================ -->
  <defs>
    <marker id="arrowhead" markerWidth="12" markerHeight="12" refX="10" refY="3" orient="auto">
      <polygon points="0 0, 12 3, 0 6" fill="#475569" />
    </marker>
    <marker id="arrowheadWhite" markerWidth="12" markerHeight="12" refX="10" refY="3" orient="auto">
      <polygon points="0 0, 12 3, 0 6" fill="#FFFFFF" />
    </marker>
    <marker id="arrowheadRed" markerWidth="12" markerHeight="12" refX="10" refY="3" orient="auto">
      <polygon points="0 0, 12 3, 0 6" fill="#DC2626" />
    </marker>
    <marker id="arrowheadGreen" markerWidth="12" markerHeight="12" refX="10" refY="3" orient="auto">
      <polygon points="0 0, 12 3, 0 6" fill="#569A31" />
    </marker>
    <marker id="arrowheadOrange" markerWidth="12" markerHeight="12" refX="10" refY="3" orient="auto">
      <polygon points="0 0, 12 3, 0 6" fill="#FB8C00" />
    </marker>
  </defs>

  <!-- Footer -->
  <text x="700" y="860" font-family="Arial, sans-serif" font-size="12" fill="#64748B" text-anchor="middle" font-style="italic">
    Supports CI/CD integration, A/B testing, and multi-region deployment for high availability
  </text>
</svg>
